<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenGL ES SDK for Android: Simple Triangle</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function()
{ (i[r].q=i[r].q||[]).push(arguments)}
,i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-35797182-1', 'auto');
ga('send', 'pageview');
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_banner.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenGL ES SDK for Android
<span id="armdevcenter"><a href="https://developer.arm.com/">ARM Developer Center</a></span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('simple_triangle.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Simple Triangle </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>How to create your first triangle.</p>
<h1><a class="anchor" id="simpleTriangleIntroduction"></a>
Introduction</h1>
<p>The source for this sample can be found in the folder of the SDK.</p>
<p>This tutorial will take the application we created in <a class="el" href="graphics_setup.html">Graphics Setup</a> and teach you how to draw a simple red triangle to the screen. Basic drawing commands will be described and there will also be a brief introduction to both fragment and vertex shaders. No changes are needed to the Java side of the application, all the changes that happen are in the native side.</p>
<h1><a class="anchor" id="simpleTriangleNewProject"></a>
Creating a New Project</h1>
<p>Like the projects that come before it. The previous project will be a starting point for this project. So either copy the project or create a completely new project and include source files from the previous project. The project should be called <b>SimpleTriangle</b> and the package name should be called <a class="el" href="namespacecom_1_1arm_1_1malideveloper_1_1openglessdk_1_1simpletriangle.html">com.arm.malideveloper.openglessdk.simpletriangle</a>*. Finally the activity class (previously <em><a class="el" href="_graphics_setup_8java.html">GraphicsSetup.java</a></em>) should be renamed <b><a class="el" href="_simple_triangle_8java.html">SimpleTriangle.java</a></b> using Eclipse (this ensures references to the activity get updated elsewhere in the project).</p>
<h1><a class="anchor" id="simpleTriangleNativeIncludes"></a>
Native Includes</h1>
<p>To allow us to do a bit more than just use the Android logging functions we have included some of the standard C includes like stdio.h and math.h. As we are also doing graphics now in our native application we have also included some of the OpenGL ES 2.0 headers. These should be included in all of your graphics applications.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;jni.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;android/log.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;GLES2/gl2.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;GLES2/gl2ext.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define LOG_TAG &quot;libNative&quot;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define LOGI(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define LOGE(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__)</span></div>
</div><!-- fragment --><p> There are a few things we need to do here we need to create a fragment and vertex shader. These can be thought of as little programs each with a main function that dictates what your shaders will do. In the vertex shader you need to output a final position of a vertex and in the fragement shader you need to output a final colour that will be the colour of the pixel in a given scene. More on this later.</p>
<h1><a class="anchor" id="simpleTriangleVertexFragment"></a>
Vertex and Fragment Shader Loading</h1>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> glVertexShader[] =</div>
<div class="line">        <span class="stringliteral">&quot;attribute vec4 vPosition;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;void main()\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;{\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;  gl_Position = vPosition;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;}\n&quot;</span>;</div>
</div><!-- fragment --><p> This is the source code for your vertex shader. The first line declares vPosition as an attribute. This is an input to the shader and you will have to provide the data to the shader seperately. This will be the location of each of your verticies that you want to be drawn to the screen. As you can see the next lines are just a standard function that looks like anything you may create in C. The only line in this function sets a variable called gl_Position to the value of vPosition. As mentioned earlier if you don't do anything else in your vertex shader you need to set the final position of the vertex. This is always what you set the value of gl_Position to.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> glFragmentShader[] =</div>
<div class="line">        <span class="stringliteral">&quot;precision mediump float;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;void main()\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;{\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;}\n&quot;</span>;</div>
</div><!-- fragment --><p> This is the source code for your fragment shader. The first line is required because you need to set the precision of your shader. This can be either lowp, mediump or highp. Again after this there is a normal function definition just like the one that you created for your vertex shader. The only line in this shader sets gl_FragColor to a colour. In this case the colour is red. The 4 numbers in the Vec4 respond to the RGBA colour space we selected earlier and you can pick a number between 0.0 and 1.0. So in this case the red channel is 1.0 (the maximum value). The green and blue channels are 0.0 (the minimum values). The alpha channel is set to 1.0. Note you can have any number you want between 0.0 and 1.0 for these values.</p>
<div class="fragment"><div class="line">GLuint <a class="code" href="tutorials_2_asset_loading_2jni_2_native_8cpp.html#aceb8b27cd7d369c524624ede81a1299e">loadShader</a>(GLenum shaderType, <span class="keyword">const</span> <span class="keywordtype">char</span>* shaderSource)</div>
<div class="line">{</div>
<div class="line">    GLuint shader = glCreateShader(shaderType);</div>
<div class="line">    <span class="keywordflow">if</span> (shader)</div>
<div class="line">    {</div>
<div class="line">        glShaderSource(shader, 1, &amp;shaderSource, NULL);</div>
<div class="line">        glCompileShader(shader);</div>
<div class="line"></div>
<div class="line">        GLint compiled = 0;</div>
<div class="line">        glGetShaderiv(shader, GL_COMPILE_STATUS, &amp;compiled);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!compiled)</div>
<div class="line">        {</div>
<div class="line">            GLint infoLen = 0;</div>
<div class="line">            glGetShaderiv(shader, GL_INFO_LOG_LENGTH, &amp;infoLen);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (infoLen)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">char</span> * <a class="code" href="gl2ext_8h.html#af334395038ceaf0522a53f75e6fd2b1f">buf</a> = (<span class="keywordtype">char</span>*) malloc(infoLen);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (buf)</div>
<div class="line">                {</div>
<div class="line">                    glGetShaderInfoLog(shader, infoLen, NULL, buf);</div>
<div class="line">                    <a class="code" href="jni_2_astc_textures_8h.html#ae02538a80ad5fc009caec73487d11a8d">LOGE</a>(<span class="stringliteral">&quot;Could not Compile Shader %d:\n%s\n&quot;</span>, shaderType, buf);</div>
<div class="line">                    free(buf);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                glDeleteShader(shader);</div>
<div class="line">                shader = 0;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> shader;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Now it is time to create a function that will load each of our shaders and compile them into a form that can run on the GPU. First of all we need to create a shader using the OpenGL ES API. As long as we managed to get a valid shader object we then select the source that we are going to use for this shader. This will typically be one of the char arrays that we defined earlier for our vertex and fragement shader. We then need to check if compilation was successful as with any of our programs we have written, something can go wrong.</p>
<p>If for some reason the compilation does go wrong. We need to find out why and see what errors are produced as otherwise we will be shooting in the dark. So we first take the length of the information string and then create a buffer of that length. We then retrieve the string itself and display it as an error using the Android logging method again. We then free the buffer as we have no other use for it. If there was an error we return 0, otherwise we return the shader.</p>
<div class="fragment"><div class="line">GLuint <a class="code" href="tutorials_2_asset_loading_2jni_2_native_8cpp.html#a54ec161f64aeb5b3cedd002a368f0e15">createProgram</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* vertexSource, <span class="keyword">const</span> <span class="keywordtype">char</span> * fragmentSource)</div>
<div class="line">{</div>
<div class="line">    GLuint vertexShader = <a class="code" href="tutorials_2_asset_loading_2jni_2_native_8cpp.html#aceb8b27cd7d369c524624ede81a1299e">loadShader</a>(GL_VERTEX_SHADER, vertexSource);</div>
<div class="line">    <span class="keywordflow">if</span> (!vertexShader)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    GLuint fragmentShader = <a class="code" href="tutorials_2_asset_loading_2jni_2_native_8cpp.html#aceb8b27cd7d369c524624ede81a1299e">loadShader</a>(GL_FRAGMENT_SHADER, fragmentSource);</div>
<div class="line">    <span class="keywordflow">if</span> (!fragmentShader)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    GLuint program = glCreateProgram();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (program)</div>
<div class="line">    {</div>
<div class="line">        glAttachShader(program , vertexShader);</div>
<div class="line">        glAttachShader(program, fragmentShader);</div>
<div class="line"></div>
<div class="line">        glLinkProgram(program);</div>
<div class="line">        GLint linkStatus = GL_FALSE;</div>
<div class="line"></div>
<div class="line">        glGetProgramiv(program , GL_LINK_STATUS, &amp;linkStatus);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>( linkStatus != GL_TRUE)</div>
<div class="line">        {</div>
<div class="line">            GLint bufLength = 0;</div>
<div class="line"></div>
<div class="line">            glGetProgramiv(program, GL_INFO_LOG_LENGTH, &amp;bufLength);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (bufLength)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">char</span>* <a class="code" href="gl2ext_8h.html#af334395038ceaf0522a53f75e6fd2b1f">buf</a> = (<span class="keywordtype">char</span>*) malloc(bufLength);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> (buf)</div>
<div class="line">                {</div>
<div class="line">                    glGetProgramInfoLog(program, bufLength, NULL, buf);</div>
<div class="line">                    <a class="code" href="jni_2_astc_textures_8h.html#ae02538a80ad5fc009caec73487d11a8d">LOGE</a>(<span class="stringliteral">&quot;Could not link program:\n%s\n&quot;</span>, buf);</div>
<div class="line">                    free(buf);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            glDeleteProgram(program);</div>
<div class="line">            program = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="gl2ext_8h.html#adffcc51f3ade9f7911b0db30601322f6">program</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> We now need to create a program. A program can be thought of as something that holds your shaders. It requires a vertex shader and a fragment shader. So first we load each of the shaders in turn and make sure that each of them is valid. We then try to create a program. If this works, we attach each of the shaders to the program. We then link the program. You can think about this like a standard linker. Again this can fail as often as a regular linker can so we need to make sure that the link status was sucessful. If it wasn't we again find the length of the information surrounding the failure and then create a buffer to display it. If all was successful we return the program, otherwise we return 0.</p>
<h1><a class="anchor" id="simpleTrianglesimpleTriangleandRendering"></a>
Graphics Setup and Rendering</h1>
<div class="fragment"><div class="line">GLuint <a class="code" href="tutorials_2_simple_triangle_2jni_2_native_8cpp.html#ad9d225134fb827a9488726edd20b4f97">simpleTriangleProgram</a>;</div>
<div class="line">GLuint <a class="code" href="tutorials_2_simple_triangle_2jni_2_native_8cpp.html#a8ada611d96d8e1cfb505c37519d64cf3">vPosition</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="_anti_alias_8cpp.html#a5cf4b6142f07f6e9207708e8b8d3398c">setupGraphics</a>(<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> <a class="code" href="gl2ext_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a>)</div>
<div class="line">{</div>
<div class="line">    simpleTriangleProgram = <a class="code" href="tutorials_2_asset_loading_2jni_2_native_8cpp.html#a54ec161f64aeb5b3cedd002a368f0e15">createProgram</a>(glVertexShader, glFragmentShader);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!simpleTriangleProgram)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="jni_2_astc_textures_8h.html#ae02538a80ad5fc009caec73487d11a8d">LOGE</a> (<span class="stringliteral">&quot;Could not create program&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    vPosition = glGetAttribLocation(simpleTriangleProgram, <span class="stringliteral">&quot;vPosition&quot;</span>);</div>
<div class="line"></div>
<div class="line">    glViewport(0, 0, w, h);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> We now define two global variables. The first is the program. This will hold the value of the program that will be created by calling the above functions. The second will hold the location of where the GPU will be expecting the vertex data that is required for our shader.</p>
<p>This function just does the final bit of setup. We first create the program with the two character arrays defined at the start. We make sure that the program is created and we then query OpenGL ES to get the location of where we should put our vPosition data. Note the quotes must match the attribute name we used in the shader itself. We then do a call to glViewport passing in the width and height of our surface. That's all there is to it for setup. All we need to do now in the code is to create the render function that is responsible for drawing and the functions that link to the Java layer.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="gl2ext_8h.html#a1ce320a06625b9dfdb4bd890e219d23c">GLfloat</a> <a class="code" href="_anti_alias_8h.html#a973b30342fd86aefe2ea2daa12d29ef0">triangleVertices</a>[] = {</div>
<div class="line">        0.0f, 1.0f,</div>
<div class="line">        -1.0f, -1.0f,</div>
<div class="line">        1.0f, -1.0f</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="_anti_alias_8cpp.html#ab43690393b1c3605bbbd8f77bbe4955c">renderFrame</a>()</div>
<div class="line">{</div>
<div class="line">    glClearColor(0.0<a class="code" href="gl2ext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>, 0.0<a class="code" href="gl2ext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>, 0.0<a class="code" href="gl2ext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>, 1.0<a class="code" href="gl2ext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>);</div>
<div class="line">    glClear (GL_DEPTH_BUFFER_BIT | GL_COLOR_BUFFER_BIT);</div>
<div class="line">    glUseProgram(simpleTriangleProgram);</div>
<div class="line">    glVertexAttribPointer(vPosition, 2, GL_FLOAT, GL_FALSE, 0 ,triangleVertices);</div>
<div class="line">    glEnableVertexAttribArray(vPosition);</div>
<div class="line">    glDrawArrays(GL_TRIANGLES, 0, 3);</div>
<div class="line">}</div>
</div><!-- fragment --><p> The first part of this section of code defines are verticies for the triangle that we are trying to draw. The space in which we have to draw spans from -1.0f to 1.0f. The bottom left corner of the screen is -1.0f -1.0f and the top right hand corner of the screen is 1.0f, 1.0f. Because we are only drawing a triangle and a triangle is a 2D shape we don't need to worry about the Z coordinate. So if we look at the coordinates specified we have 0.0f, 1.0f which would be a vertex at the middle top portion of the screen. -1.0f, -1.0f which will be a coordinate at the bottom left of the screen and finally 1.0f, -1.0f which will be a coordinate at the bottom right of the screen.</p>
<p>Now for the most exciting function we will create: the one responsible for drawing. The first thing we do is set the clear colour to black. You can set this colour to anything you like and OpenGL ES will set the scene to that colour on every glClear command. After this we call glClear which really marks the start of our scene. We say that we are interested in clearing both the depth buffer and the colour buffer.</p>
<p>We then need to select which program we want to use. A typical application may have multiple shaders and as a result, multiple programs. For instance you may want to use a different shaders to draw water, a house, or some grass. We then need to link the attribute we mentioned in the shader to the actual triangle data defined above. We do this by first providing the location the GPU expects the data. We then say each vertex is going to have 2 elements to it which are floats. The next parameter says that our data is already normalized so there is no need to do it for us and that there is no stride between our verticies. The final parameter is a pointer to the actual triangle vertices.</p>
<p>We then need to enable the array to signify it's ready to be used. The final line is the function that actually draws the triangle. We say that we want to draw an array of verticies and they should be drawn as triangles starting at element 0 in the array and there are 3 verticies to be drawn.</p>
<h1><a class="anchor" id="simpleTriangleFunctionDefinitions"></a>
Function Definitions</h1>
<p>The final thing we need to do is adjust a function definitions defined in the previous tutorial to call our newly defined functions.</p>
<div class="fragment"><div class="line">JNIEXPORT <span class="keywordtype">void</span> JNICALL <a class="code" href="tutorials_2_simple_triangle_2jni_2_native_8cpp.html#a1276fbbf6e63215702a4099a64f314e3">Java_com_arm_malideveloper_openglessdk_simpletriangle_NativeLibrary_init</a>(</div>
<div class="line">                       JNIEnv * env, jobject obj, jint width, jint height)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_anti_alias_8cpp.html#a5cf4b6142f07f6e9207708e8b8d3398c">setupGraphics</a>(width, height);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">JNIEXPORT <span class="keywordtype">void</span> JNICALL <a class="code" href="tutorials_2_simple_triangle_2jni_2_native_8cpp.html#ab589b998518bed1c1a7cb18ced72ec9b">Java_com_arm_malideveloper_openglessdk_simpletriangle_NativeLibrary_step</a>(</div>
<div class="line">                       JNIEnv * env, jobject obj)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="_anti_alias_8cpp.html#ab43690393b1c3605bbbd8f77bbe4955c">renderFrame</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p> As you can see we simply call the setupGraphics function in our init function and we call renderFrame in our step function. It's that simple. All we need to do now is adjust our Android Makefile slightly and all our hard work will have paid off when we can render a red triangle.</p>
<h1><a class="anchor" id="simpleTriangleBuildRun"></a>
Building and Running the Application</h1>
<p>Follow the <a class="el" href="getting_started_guide.html">Getting Started Guide</a> from <a class="el" href="getting_started_guide.html#gettingStartedGuideBuildingTheSamples">Building Android samples</a> onwards to build and run the application.</p>
<h1><a class="anchor" id="simpleCubeExampleNextSteps2"></a>
Next Steps</h1>
<p>Now move on to creating a 3D object and adding animation in <a class="el" href="simple_cube.html">Simple Cube</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
    <li class="footer">
        <a class="copyright" href="http://www.arm.com/">(C) ARM Ltd. 2017</a>
    </li>
  </ul>
</div>
</body>
</html>
