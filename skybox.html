<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenGL ES SDK for Android: Skybox</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function()
{ (i[r].q=i[r].q||[]).push(arguments)}
,i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-35797182-1', 'auto');
ga('send', 'pageview');
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_banner.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenGL ES SDK for Android
<span id="armdevcenter"><a href="https://developer.arm.com/">ARM Developer Center</a></span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('skybox.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespace_skybox.html">Skybox</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This sample presents how to implement skybox using single cubemap texture.</p>
<h1><a class="anchor" id="skyboxOverview"></a>
Skybox Overview</h1>
<p><a class="el" href="namespace_skybox.html">Skybox</a> is a method of creating backgrounds, which allows the sky, distant mountains or buildings projected onto the cube's faces to create the illusion of three-dimensional surroundings. It contains six images with views from the center of the scene along the six directional axes. In order to implement a simple skybox we could draw a cube around the viewer and apply the cube map texture to it. Instead, our approach renders only one full screen quad. We cover the entire viewport by computing the texture coordinates at all four corners. Any part of the virtual cube that is outside the viewport will be clipped away. We can then transform the viewport's corners by the view matrix to orient the quad properly in world space. Both the vertex and the texture coordinates are hard coded into the vertex shader and there is no need to store them in the client's application memory.</p>
<h1><a class="anchor" id="skyboxTextureSetup"></a>
Texture Setup</h1>
<p>We use six RGB ppm images to initialize the texture for each face of the cube map. For this example, we aren't using mipmaps so only the base texture level (level 0) is loaded. As we are also overlaying the name of the sample onto the scene, blending has to be correctly set up.</p>
<h1><a class="anchor" id="skyboxVertexShader"></a>
Vertex Shader</h1>
<div class="fragment"><div class="line">out     <a class="code" href="structvec3.html">vec3</a> texCoord;</div><div class="line"><a class="code" href="_compute_particles_2jni_2common_2glutil_8cpp.html#a2c5c3c4ce30783b590dd30b1060b7b38">uniform</a> <a class="code" href="structmat4.html">mat4</a> viewMat;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="scan_8cs.html#acdef7a1fd863a6d3770c1268cb06add3">main</a>(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">     <span class="keyword">const</span> <a class="code" href="structvec3.html">vec3</a> vertices[4] = <a class="code" href="structvec3.html">vec3</a>[4](<a class="code" href="structvec3.html">vec3</a>(-1.0f, -1.0f, 1.0f),</div><div class="line">                                      <a class="code" href="structvec3.html">vec3</a>( 1.0f, -1.0f, 1.0f),</div><div class="line">                                      <a class="code" href="structvec3.html">vec3</a>(-1.0f,  1.0f, 1.0f),</div><div class="line">                                      <a class="code" href="structvec3.html">vec3</a>( 1.0f,  1.0f, 1.0f));</div><div class="line"></div><div class="line">    texCoord    = mat3(viewMat) * vertices[gl_VertexID];</div><div class="line">    gl_Position = <a class="code" href="structvec4.html">vec4</a>(vertices[gl_VertexID], 1.0f);</div><div class="line">}</div></div><!-- fragment --><p>The cube's vertex position is mapped directly to the cube map texture. The array vertices contains 3D coordinates for each corner of the full screen quad. By multiplying each vertex with the view matrix (viewMat), we can calculate the texture coordinate of the cubemap that each vertex maps to. </p>
<h1><a class="anchor" id="skyboxFragmentShader"></a>
Fragment Shader</h1>
<div class="fragment"><div class="line">in      <a class="code" href="structvec3.html">vec3</a>        texCoord;</div><div class="line">out     <a class="code" href="structvec4.html">vec4</a>        color;</div><div class="line"><a class="code" href="_compute_particles_2jni_2common_2glutil_8cpp.html#a2c5c3c4ce30783b590dd30b1060b7b38">uniform</a> samplerCube texCubemap; </div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="scan_8cs.html#acdef7a1fd863a6d3770c1268cb06add3">main</a>(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    color = <a class="code" href="gl2ext_8h.html#ab21590c4736d1459a5a0674a42b5a655">texture</a>(texCubemap, texCoord);</div><div class="line">}</div></div><!-- fragment --><p>We use the texture coordinates calculated in the vertex shader to sample from the cubemap texture, and write the result straight into the framebuffer.</p>
<h1><a class="anchor" id="skyboxVisualOutput"></a>
Visual Output</h1>
<p>You should see on the screen an output similar to: </p><div class="image">
<img src="Skybox.png" alt="Skybox.png"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
    <li class="footer">
        <a class="copyright" href="http://www.arm.com/">(C) ARM Ltd. 2017</a>
    </li>
  </ul>
</div>
</body>
</html>
